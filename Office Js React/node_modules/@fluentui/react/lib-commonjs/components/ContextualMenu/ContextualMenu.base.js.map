{"version":3,"file":"ContextualMenu.base.js","sourceRoot":"../src/","sources":["components/ContextualMenu/ContextualMenu.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { ContextualMenuItemType } from './ContextualMenu.types';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { FocusZone, FocusZoneDirection, FocusZoneTabbableElements } from '../../FocusZone';\nimport {\n  divProperties,\n  getNativeProps,\n  shallowCompare,\n  warnDeprecations,\n  Async,\n  EventGroup,\n  assign,\n  classNamesFunction,\n  css,\n  getFirstFocusable,\n  getId,\n  getLastFocusable,\n  getRTL,\n  KeyCodes,\n  shouldWrapFocus,\n  isIOS,\n  isMac,\n  initializeComponentRef,\n  memoizeFunction,\n  getPropsWithDefaults,\n  getDocument,\n} from '../../Utilities';\nimport { hasSubmenu, getIsChecked, isItemDisabled } from '../../utilities/contextualMenu/index';\nimport { Callout } from '../../Callout';\nimport { ContextualMenuItem } from './ContextualMenuItem';\nimport {\n  ContextualMenuSplitButton,\n  ContextualMenuButton,\n  ContextualMenuAnchor,\n} from './ContextualMenuItemWrapper/index';\nimport { concatStyleSetsWithProps } from '../../Styling';\nimport { getItemStyles } from './ContextualMenu.classNames';\nimport { useTarget, usePrevious } from '@fluentui/react-hooks';\nimport { useResponsiveMode, ResponsiveMode } from '../../ResponsiveMode';\nimport { MenuContext } from '../../utilities/MenuContext/index';\nimport type {\n  IContextualMenuProps,\n  IContextualMenuItem,\n  IContextualMenuListProps,\n  IContextualMenuStyleProps,\n  IContextualMenuStyles,\n  IContextualMenuItemRenderProps,\n} from './ContextualMenu.types';\nimport type { IFocusZoneProps } from '../../FocusZone';\nimport type { IMenuItemClassNames, IContextualMenuClassNames } from './ContextualMenu.classNames';\nimport type { IRenderFunction, Point, IStyleFunctionOrObject } from '../../Utilities';\nimport type { ICalloutContentStyleProps, ICalloutContentStyles } from '../../Callout';\nimport type { IProcessedStyleSet } from '../../Styling';\nimport type { IContextualMenuItemStyleProps, IContextualMenuItemStyles } from './ContextualMenuItem.types';\nimport type { IPopupRestoreFocusParams } from '../../Popup';\n\nconst getClassNames = classNamesFunction<IContextualMenuStyleProps, IContextualMenuStyles>();\nconst getContextualMenuItemClassNames = classNamesFunction<IContextualMenuItemStyleProps, IContextualMenuItemStyles>();\n\nexport interface IContextualMenuState {\n  contextualMenuItems?: IContextualMenuItem[];\n  contextualMenuTarget?: Element;\n  positions?: any;\n  slideDirectionalClassName?: string;\n  subMenuId?: string;\n  submenuDirection?: DirectionalHint;\n}\n\n// The default ContextualMenu properties have no items and beak, the default submenu direction is right and top.\nconst DEFAULT_PROPS: Partial<IContextualMenuProps> = {\n  items: [],\n  shouldFocusOnMount: true,\n  gapSpace: 0,\n  directionalHint: DirectionalHint.bottomAutoEdge,\n  beakWidth: 16,\n};\n\nexport function getSubmenuItems(item: IContextualMenuItem): IContextualMenuItem[] | undefined {\n  return item.subMenuProps ? item.subMenuProps.items : item.items;\n}\n\n/**\n * Returns true if a list of menu items can contain a checkbox\n */\nexport function canAnyMenuItemsCheck(items: IContextualMenuItem[]): boolean {\n  return items.some(item => {\n    if (item.canCheck) {\n      return true;\n    }\n\n    // If the item is a section, check if any of the items in the section can check.\n    if (item.sectionProps && item.sectionProps.items.some(submenuItem => submenuItem.canCheck === true)) {\n      return true;\n    }\n\n    return false;\n  });\n}\n\nconst NavigationIdleDelay = 250; /* ms */\n\nconst COMPONENT_NAME = 'ContextualMenu';\n\nconst _getMenuItemStylesFunction = memoizeFunction(\n  (\n    ...styles: (IStyleFunctionOrObject<IContextualMenuItemStyleProps, IContextualMenuItemStyles> | undefined)[]\n  ): IStyleFunctionOrObject<IContextualMenuItemStyleProps, IContextualMenuItemStyles> => {\n    return (styleProps: IContextualMenuItemStyleProps) =>\n      concatStyleSetsWithProps(styleProps, getItemStyles, ...styles);\n  },\n);\n\nfunction useVisibility(props: IContextualMenuProps, targetWindow: Window | undefined) {\n  const { hidden = false, onMenuDismissed, onMenuOpened } = props;\n  const previousHidden = usePrevious(hidden);\n\n  const onMenuOpenedRef = React.useRef(onMenuOpened);\n  const onMenuClosedRef = React.useRef(onMenuDismissed);\n  const propsRef = React.useRef(props);\n\n  onMenuOpenedRef.current = onMenuOpened;\n  onMenuClosedRef.current = onMenuDismissed;\n  propsRef.current = props;\n\n  React.useEffect(() => {\n    // Don't issue dismissed callbacks on initial mount\n    if (hidden && previousHidden === false) {\n      onMenuClosedRef.current?.(propsRef.current);\n    } else if (!hidden && previousHidden !== false) {\n      onMenuOpenedRef.current?.(propsRef.current);\n    }\n  }, [hidden, previousHidden]);\n\n  // Issue onDismissedCallback on unmount\n  React.useEffect(() => () => onMenuClosedRef.current?.(propsRef.current), []);\n}\n\nfunction useSubMenuState({ hidden }: IContextualMenuProps) {\n  const [expandedMenuItemKey, setExpandedMenuItemKey] = React.useState<string>();\n  const [submenuTarget, setSubmenuTarget] = React.useState<HTMLElement>();\n  /** True if the menu was expanded by mouse click OR hover (as opposed to by keyboard) */\n  const [expandedByMouseClick, setExpandedByMouseClick] = React.useState<boolean>();\n\n  const closeSubMenu = React.useCallback(() => {\n    setExpandedByMouseClick(undefined);\n    setExpandedMenuItemKey(undefined);\n    setSubmenuTarget(undefined);\n  }, []);\n\n  const openSubMenu = React.useCallback(\n    ({ key: submenuItemKey }: IContextualMenuItem, target: HTMLElement, openedByMouseClick?: boolean) => {\n      if (expandedMenuItemKey === submenuItemKey) {\n        return;\n      }\n\n      target.focus();\n\n      setExpandedByMouseClick(openedByMouseClick);\n      setExpandedMenuItemKey(submenuItemKey);\n      setSubmenuTarget(target);\n    },\n    [expandedMenuItemKey],\n  );\n\n  React.useEffect(() => {\n    if (hidden) {\n      closeSubMenu();\n    }\n  }, [hidden, closeSubMenu]);\n\n  return [expandedMenuItemKey, submenuTarget, expandedByMouseClick, openSubMenu, closeSubMenu] as const;\n}\n\nfunction useShouldUpdateFocusOnMouseMove({ delayUpdateFocusOnHover, hidden }: IContextualMenuProps) {\n  const shouldUpdateFocusOnMouseEvent = React.useRef<boolean>(!delayUpdateFocusOnHover);\n  const gotMouseMove = React.useRef<boolean>(false);\n\n  React.useEffect(() => {\n    shouldUpdateFocusOnMouseEvent.current = !delayUpdateFocusOnHover;\n    gotMouseMove.current = hidden ? false : !delayUpdateFocusOnHover && gotMouseMove.current;\n  }, [delayUpdateFocusOnHover, hidden]);\n\n  const onMenuFocusCapture = React.useCallback(() => {\n    if (delayUpdateFocusOnHover) {\n      shouldUpdateFocusOnMouseEvent.current = true;\n    }\n  }, [delayUpdateFocusOnHover]);\n\n  return [shouldUpdateFocusOnMouseEvent, gotMouseMove, onMenuFocusCapture] as const;\n}\n\nexport const ContextualMenuBase: React.FunctionComponent<IContextualMenuProps> = React.forwardRef<\n  HTMLDivElement,\n  IContextualMenuProps\n>((propsWithoutDefaults, forwardedRef) => {\n  const { ref, ...props } = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n  const hostElement = React.useRef<HTMLDivElement>(null);\n\n  const [targetRef, targetWindow] = useTarget(props.target, hostElement);\n  const [expandedMenuItemKey, submenuTarget, expandedByMouseClick, openSubMenu, closeSubMenu] = useSubMenuState(props);\n  const [shouldUpdateFocusOnMouseEvent, gotMouseMove, onMenuFocusCapture] = useShouldUpdateFocusOnMouseMove(props);\n\n  const responsiveMode = useResponsiveMode(hostElement, props.responsiveMode);\n\n  useVisibility(props, targetWindow);\n\n  return (\n    <ContextualMenuInternal\n      {...props}\n      hoisted={{\n        hostElement,\n        forwardedRef,\n        targetRef,\n        targetWindow,\n        expandedMenuItemKey,\n        submenuTarget,\n        expandedByMouseClick,\n        openSubMenu,\n        closeSubMenu,\n        shouldUpdateFocusOnMouseEvent,\n        gotMouseMove,\n        onMenuFocusCapture,\n      }}\n      responsiveMode={responsiveMode}\n    />\n  );\n});\nContextualMenuBase.displayName = 'ContextualMenuBase';\n\ninterface IContextualMenuInternalProps extends IContextualMenuProps {\n  hoisted: {\n    hostElement: React.RefObject<HTMLDivElement>;\n    forwardedRef: React.Ref<HTMLDivElement>;\n    targetRef: React.RefObject<Element | MouseEvent | Point | null>;\n    targetWindow: Window | undefined;\n    expandedMenuItemKey?: string;\n    submenuTarget?: Element;\n    expandedByMouseClick?: boolean;\n    shouldUpdateFocusOnMouseEvent: React.MutableRefObject<boolean>;\n    gotMouseMove: React.MutableRefObject<boolean>;\n    openSubMenu(submenuItemKey: IContextualMenuItem, target: HTMLElement, openedByMouseClick?: boolean): void;\n    closeSubMenu(): void;\n    onMenuFocusCapture(): void;\n  };\n}\n\nclass ContextualMenuInternal extends React.Component<IContextualMenuInternalProps, IContextualMenuState> {\n  private _async: Async;\n  private _events: EventGroup;\n  private _id: string;\n  private _previousActiveElement: HTMLElement | undefined;\n  private _enterTimerId: number | undefined;\n  private _isScrollIdle: boolean;\n  private _scrollIdleTimeoutId: number | undefined;\n  /** True if the most recent keydown event was for alt (option) or meta (command). */\n  private _lastKeyDownWasAltOrMeta: boolean | undefined;\n  private _mounted = false;\n\n  private _adjustedFocusZoneProps: IFocusZoneProps;\n\n  // eslint-disable-next-line deprecation/deprecation\n  private _classNames: IProcessedStyleSet<IContextualMenuStyles> | IContextualMenuClassNames;\n\n  constructor(props: IContextualMenuInternalProps) {\n    super(props);\n\n    this._async = new Async(this);\n    this._events = new EventGroup(this);\n    initializeComponentRef(this);\n\n    warnDeprecations(COMPONENT_NAME, props, {\n      getMenuClassNames: 'styles',\n    });\n\n    this.state = {\n      contextualMenuItems: undefined,\n      subMenuId: getId('ContextualMenu'),\n    };\n\n    this._id = props.id || getId('ContextualMenu');\n    this._isScrollIdle = true;\n  }\n\n  public dismiss = (ev?: any, dismissAll?: boolean) => {\n    const { onDismiss } = this.props;\n\n    if (onDismiss) {\n      onDismiss(ev, dismissAll);\n    }\n  };\n\n  public shouldComponentUpdate(newProps: IContextualMenuInternalProps, newState: IContextualMenuState): boolean {\n    if (!newProps.shouldUpdateWhenHidden && this.props.hidden && newProps.hidden) {\n      // Do not update when hidden.\n      return false;\n    }\n\n    return !shallowCompare(this.props, newProps) || !shallowCompare(this.state, newState);\n  }\n\n  public getSnapshotBeforeUpdate(prevProps: IContextualMenuInternalProps): null {\n    const { hoisted } = this.props;\n\n    if (this._isHidden(prevProps) !== this._isHidden(this.props)) {\n      if (this._isHidden(this.props)) {\n        this._onMenuClosed();\n      } else {\n        this._previousActiveElement = hoisted.targetWindow\n          ? (hoisted.targetWindow.document.activeElement as HTMLElement)\n          : undefined;\n      }\n    }\n    return null;\n  }\n\n  // Invoked once, only on the client (not on the server), immediately after the initial rendering occurs.\n  public componentDidMount(): void {\n    const { hidden, hoisted } = this.props;\n\n    if (!hidden) {\n      this._previousActiveElement = hoisted.targetWindow\n        ? (hoisted.targetWindow.document.activeElement as HTMLElement)\n        : undefined;\n    }\n\n    this._mounted = true;\n  }\n\n  // Invoked immediately before a component is unmounted from the DOM.\n  public componentWillUnmount() {\n    this._events.dispose();\n    this._async.dispose();\n    this._mounted = false;\n  }\n\n  public render(): JSX.Element | null {\n    let { isBeakVisible } = this.props;\n\n    const {\n      items,\n      labelElementId,\n      id,\n      className,\n      beakWidth,\n      directionalHint,\n      directionalHintForRTL,\n      alignTargetEdge,\n      gapSpace,\n      coverTarget,\n      ariaLabel,\n      doNotLayer,\n      target,\n      bounds,\n      useTargetWidth,\n      useTargetAsMinWidth,\n      directionalHintFixed,\n      shouldFocusOnMount,\n      shouldFocusOnContainer,\n      title,\n      styles,\n      theme,\n      calloutProps,\n      onRenderSubMenu = this._onRenderSubMenu,\n      onRenderMenuList = this._onRenderMenuList,\n      focusZoneProps,\n      // eslint-disable-next-line deprecation/deprecation\n      getMenuClassNames,\n      hoisted: { expandedMenuItemKey, targetRef, onMenuFocusCapture, hostElement, forwardedRef },\n    } = this.props;\n\n    this._classNames = getMenuClassNames\n      ? getMenuClassNames(theme!, className)\n      : getClassNames(styles, {\n          theme: theme!,\n          className: className,\n        });\n\n    const hasIcons = itemsHaveIcons(items);\n\n    function itemsHaveIcons(contextualMenuItems: IContextualMenuItem[]): boolean {\n      for (const item of contextualMenuItems) {\n        if (item.iconProps) {\n          return true;\n        }\n\n        if (\n          item.itemType === ContextualMenuItemType.Section &&\n          item.sectionProps &&\n          itemsHaveIcons(item.sectionProps.items)\n        ) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    this._adjustedFocusZoneProps = {\n      ...focusZoneProps,\n      className: this._classNames.root,\n      isCircularNavigation: true,\n      handleTabKey: FocusZoneTabbableElements.all,\n      direction: this._getFocusZoneDirection(),\n    };\n\n    const hasCheckmarks = canAnyMenuItemsCheck(items);\n    const submenuProps = expandedMenuItemKey && this.props.hidden !== true ? this._getSubmenuProps() : null;\n\n    isBeakVisible = isBeakVisible === undefined ? this.props.responsiveMode! <= ResponsiveMode.medium : isBeakVisible;\n    /**\n     * When useTargetWidth is true, get the width of the target element and apply it for the context menu container\n     */\n    let contextMenuStyle: React.CSSProperties;\n    const targetAsHtmlElement = targetRef.current as HTMLElement;\n    if ((useTargetWidth || useTargetAsMinWidth) && targetAsHtmlElement && targetAsHtmlElement.offsetWidth) {\n      const targetBoundingRect = targetAsHtmlElement.getBoundingClientRect();\n      const targetWidth = targetBoundingRect.width - 2; /* Accounts for 1px border */\n\n      if (useTargetWidth) {\n        contextMenuStyle = {\n          width: targetWidth,\n        };\n      } else if (useTargetAsMinWidth) {\n        contextMenuStyle = {\n          minWidth: targetWidth,\n        };\n      }\n    }\n\n    // The menu should only return if items were provided, if no items were provided then it should not appear.\n    if (items && items.length > 0) {\n      let totalItemCount = 0;\n      for (const item of items) {\n        if (item.itemType !== ContextualMenuItemType.Divider && item.itemType !== ContextualMenuItemType.Header) {\n          const itemCount = item.customOnRenderListLength ? item.customOnRenderListLength : 1;\n          totalItemCount += itemCount;\n        }\n      }\n\n      const calloutStyles = this._classNames.subComponentStyles\n        ? (this._classNames.subComponentStyles.callout as IStyleFunctionOrObject<\n            ICalloutContentStyleProps,\n            ICalloutContentStyles\n          >)\n        : undefined;\n\n      return (\n        <MenuContext.Consumer>\n          {menuContext => (\n            <Callout\n              styles={calloutStyles}\n              onRestoreFocus={this._tryFocusPreviousActiveElement}\n              {...calloutProps}\n              target={target || (menuContext.target as IContextualMenuProps['target'])}\n              isBeakVisible={isBeakVisible}\n              beakWidth={beakWidth}\n              directionalHint={directionalHint}\n              directionalHintForRTL={directionalHintForRTL}\n              gapSpace={gapSpace}\n              coverTarget={coverTarget}\n              doNotLayer={doNotLayer}\n              className={css('ms-ContextualMenu-Callout', calloutProps && calloutProps.className)}\n              setInitialFocus={shouldFocusOnMount}\n              onDismiss={this.props.onDismiss || menuContext.onDismiss}\n              onScroll={this._onScroll}\n              bounds={bounds}\n              directionalHintFixed={directionalHintFixed}\n              alignTargetEdge={alignTargetEdge}\n              hidden={this.props.hidden || menuContext.hidden}\n              ref={forwardedRef}\n            >\n              <div\n                style={contextMenuStyle}\n                ref={hostElement}\n                id={id}\n                className={this._classNames.container}\n                tabIndex={shouldFocusOnContainer ? 0 : -1}\n                onKeyDown={this._onMenuKeyDown}\n                onKeyUp={this._onKeyUp}\n                onFocusCapture={onMenuFocusCapture}\n                aria-label={ariaLabel}\n                aria-labelledby={labelElementId}\n                role={'menu'}\n              >\n                {title && <div className={this._classNames.title}> {title} </div>}\n                {items && items.length\n                  ? this._renderFocusZone(\n                      onRenderMenuList(\n                        {\n                          ariaLabel,\n                          items,\n                          totalItemCount,\n                          hasCheckmarks,\n                          hasIcons,\n                          defaultMenuItemRenderer: this._defaultMenuItemRenderer,\n                          labelElementId,\n                        },\n                        this._onRenderMenuList,\n                      ),\n                    )\n                  : null}\n                {submenuProps && onRenderSubMenu(submenuProps, this._onRenderSubMenu)}\n              </div>\n            </Callout>\n          )}\n        </MenuContext.Consumer>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  private _tryFocusPreviousActiveElement = (options: IPopupRestoreFocusParams) => {\n    if (this.props.onRestoreFocus) {\n      this.props.onRestoreFocus(options);\n    } else if (options && options.documentContainsFocus && this._previousActiveElement) {\n      // Make sure that the focus method actually exists\n      // In some cases the object might exist but not be a real element.\n      // This is primarily for IE 11 and should be removed once IE 11 is no longer in use.\n      this._previousActiveElement.focus?.();\n    }\n  };\n\n  private _onMenuClosed() {\n    this._tryFocusPreviousActiveElement?.({\n      originalElement: this._previousActiveElement,\n      containsFocus: true,\n      documentContainsFocus: getDocument()?.hasFocus() || false,\n    });\n  }\n\n  /**\n   * Return whether the contextual menu is hidden.\n   * Undefined value for hidden is equivalent to hidden being false.\n   * @param props - Props for the component\n   */\n  private _isHidden(props: IContextualMenuProps) {\n    return !!props.hidden;\n  }\n\n  /**\n   * Gets the focusZoneDirection by using the arrowDirection if specified,\n   * the direction specified in the focusZoneProps, or defaults to FocusZoneDirection.vertical\n   */\n  private _getFocusZoneDirection() {\n    const { focusZoneProps } = this.props;\n    return focusZoneProps && focusZoneProps.direction !== undefined\n      ? focusZoneProps.direction\n      : FocusZoneDirection.vertical;\n  }\n\n  private _onRenderSubMenu(\n    subMenuProps: IContextualMenuInternalProps,\n    defaultRender?: IRenderFunction<IContextualMenuProps>,\n  ): JSX.Element {\n    throw Error(\n      'ContextualMenuBase: onRenderSubMenu callback is null or undefined. ' +\n        'Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.',\n    );\n  }\n\n  private _onRenderMenuList = (\n    menuListProps: IContextualMenuListProps,\n    defaultRender?: IRenderFunction<IContextualMenuListProps>,\n  ): JSX.Element => {\n    let indexCorrection = 0;\n    const { items, totalItemCount, hasCheckmarks, hasIcons } = menuListProps;\n\n    return (\n      <ul className={this._classNames.list} onKeyDown={this._onKeyDown} onKeyUp={this._onKeyUp} role={'presentation'}>\n        {items.map((item, index) => {\n          const menuItem = this._renderMenuItem(item, index, indexCorrection, totalItemCount, hasCheckmarks, hasIcons);\n          if (item.itemType !== ContextualMenuItemType.Divider && item.itemType !== ContextualMenuItemType.Header) {\n            const indexIncrease = item.customOnRenderListLength ? item.customOnRenderListLength : 1;\n            indexCorrection += indexIncrease;\n          }\n          return menuItem;\n        })}\n      </ul>\n    );\n  };\n\n  private _renderFocusZone(children: JSX.Element | null): JSX.Element {\n    const { focusZoneAs: ChildrenRenderer = FocusZone } = this.props;\n    return <ChildrenRenderer {...this._adjustedFocusZoneProps}>{children}</ChildrenRenderer>;\n  }\n\n  /**\n   * !!!IMPORTANT!!! Avoid mutating `item: IContextualMenuItem` argument. It will\n   * cause the menu items to always re-render because the component update is based on shallow comparison.\n   */\n  private _renderMenuItem = (\n    item: IContextualMenuItem,\n    index: number,\n    focusableElementIndex: number,\n    totalItemCount: number,\n    hasCheckmarks: boolean,\n    hasIcons: boolean,\n  ): JSX.Element => {\n    const renderedItems: React.ReactNode[] = [];\n    const iconProps = item.iconProps || { iconName: 'None' };\n    const {\n      getItemClassNames, // eslint-disable-line deprecation/deprecation\n      itemProps,\n    } = item;\n    const styles = itemProps ? itemProps.styles : undefined;\n    const { expandedMenuItemKey } = this.props.hoisted;\n\n    // We only send a dividerClassName when the item to be rendered is a divider.\n    // For all other cases, the default divider style is used.\n    const dividerClassName = item.itemType === ContextualMenuItemType.Divider ? item.className : undefined;\n    const subMenuIconClassName = item.submenuIconProps ? item.submenuIconProps.className : '';\n\n    // eslint-disable-next-line deprecation/deprecation\n    let itemClassNames: IMenuItemClassNames;\n\n    // IContextualMenuItem#getItemClassNames for backwards compatibility\n    // otherwise uses mergeStyles for class names.\n    if (getItemClassNames) {\n      itemClassNames = getItemClassNames(\n        this.props.theme!,\n        isItemDisabled(item),\n        expandedMenuItemKey === item.key,\n        !!getIsChecked(item),\n        !!item.href,\n        iconProps.iconName !== 'None',\n        item.className,\n        dividerClassName,\n        iconProps.className,\n        subMenuIconClassName,\n        item.primaryDisabled,\n      );\n    } else {\n      const itemStyleProps: IContextualMenuItemStyleProps = {\n        theme: this.props.theme!,\n        disabled: isItemDisabled(item),\n        expanded: expandedMenuItemKey === item.key,\n        checked: !!getIsChecked(item),\n        isAnchorLink: !!item.href,\n        knownIcon: iconProps.iconName !== 'None',\n        itemClassName: item.className,\n        dividerClassName,\n        iconClassName: iconProps.className,\n        subMenuClassName: subMenuIconClassName,\n        primaryDisabled: item.primaryDisabled,\n      };\n\n      // We need to generate default styles then override if styles are provided\n      // since the ContextualMenu currently handles item classNames.\n      itemClassNames = getContextualMenuItemClassNames(\n        _getMenuItemStylesFunction(this._classNames.subComponentStyles?.menuItem, styles),\n        itemStyleProps,\n      );\n    }\n\n    // eslint-disable-next-line deprecation/deprecation\n    if (item.text === '-' || item.name === '-') {\n      item.itemType = ContextualMenuItemType.Divider;\n    }\n    switch (item.itemType) {\n      case ContextualMenuItemType.Divider:\n        renderedItems.push(this._renderSeparator(index, itemClassNames));\n        break;\n      case ContextualMenuItemType.Header:\n        renderedItems.push(this._renderSeparator(index, itemClassNames));\n        const headerItem = this._renderHeaderMenuItem(item, itemClassNames, index, hasCheckmarks, hasIcons);\n        renderedItems.push(this._renderListItem(headerItem, item.key || index, itemClassNames, item.title));\n        break;\n      case ContextualMenuItemType.Section:\n        renderedItems.push(this._renderSectionItem(item, itemClassNames, index, hasCheckmarks, hasIcons));\n        break;\n      default:\n        const menuItem = this._renderNormalItem(\n          item,\n          itemClassNames,\n          index,\n          focusableElementIndex,\n          totalItemCount,\n          hasCheckmarks,\n          hasIcons,\n        );\n        renderedItems.push(this._renderListItem(menuItem, item.key || index, itemClassNames, item.title));\n        break;\n    }\n\n    // Since multiple nodes *could* be rendered, wrap them all in a fragment with this item's key.\n    // This ensures the reconciler handles multi-item output per-node correctly and does not re-mount content.\n    return <React.Fragment key={item.key}>{renderedItems}</React.Fragment>;\n  };\n\n  private _defaultMenuItemRenderer = (item: IContextualMenuItemRenderProps): React.ReactNode => {\n    const { index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons } = item;\n    return this._renderMenuItem(item, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n  };\n\n  private _renderSectionItem(\n    sectionItem: IContextualMenuItem,\n    // eslint-disable-next-line deprecation/deprecation\n    menuClassNames: IMenuItemClassNames,\n    index: number,\n    hasCheckmarks: boolean,\n    hasIcons: boolean,\n  ) {\n    const sectionProps = sectionItem.sectionProps;\n    if (!sectionProps) {\n      return;\n    }\n\n    let headerItem;\n    let groupProps;\n    if (sectionProps.title) {\n      let headerContextualMenuItem: IContextualMenuItem | undefined = undefined;\n      let ariaLabellledby = '';\n      if (typeof sectionProps.title === 'string') {\n        // Since title is a user-facing string, it needs to be stripped\n        // of whitespace in order to build a valid element ID\n        const id = this._id + sectionProps.title.replace(/\\s/g, '');\n        headerContextualMenuItem = {\n          key: `section-${sectionProps.title}-title`,\n          itemType: ContextualMenuItemType.Header,\n          text: sectionProps.title,\n          id: id,\n        };\n        ariaLabellledby = id;\n      } else {\n        const id = sectionProps.title.id || this._id + sectionProps.title.key.replace(/\\s/g, '');\n        headerContextualMenuItem = { ...sectionProps.title, id };\n        ariaLabellledby = id;\n      }\n\n      if (headerContextualMenuItem) {\n        groupProps = {\n          role: 'group',\n          'aria-labelledby': ariaLabellledby,\n        };\n        headerItem = this._renderHeaderMenuItem(\n          headerContextualMenuItem,\n          menuClassNames,\n          index,\n          hasCheckmarks,\n          hasIcons,\n        );\n      }\n    }\n\n    if (sectionProps.items && sectionProps.items.length > 0) {\n      return (\n        <li role=\"presentation\" key={sectionProps.key || sectionItem.key || `section-${index}`}>\n          <div {...groupProps}>\n            <ul className={this._classNames.list} role=\"presentation\">\n              {sectionProps.topDivider && this._renderSeparator(index, menuClassNames, true, true)}\n              {headerItem &&\n                this._renderListItem(headerItem, sectionItem.key || index, menuClassNames, sectionItem.title)}\n              {sectionProps.items.map((contextualMenuItem, itemsIndex) =>\n                this._renderMenuItem(\n                  contextualMenuItem,\n                  itemsIndex,\n                  itemsIndex,\n                  sectionProps.items.length,\n                  hasCheckmarks,\n                  hasIcons,\n                ),\n              )}\n              {sectionProps.bottomDivider && this._renderSeparator(index, menuClassNames, false, true)}\n            </ul>\n          </div>\n        </li>\n      );\n    }\n  }\n\n  private _renderListItem(\n    content: React.ReactNode,\n    key: string | number,\n    classNames: IMenuItemClassNames, // eslint-disable-line deprecation/deprecation\n    title?: string,\n  ) {\n    return (\n      <li role=\"presentation\" title={title} key={key} className={classNames.item}>\n        {content}\n      </li>\n    );\n  }\n\n  private _renderSeparator(\n    index: number,\n    classNames: IMenuItemClassNames, // eslint-disable-line deprecation/deprecation\n    top?: boolean,\n    fromSection?: boolean,\n  ): React.ReactNode {\n    if (fromSection || index > 0) {\n      return (\n        <li\n          role=\"separator\"\n          key={'separator-' + index + (top === undefined ? '' : top ? '-top' : '-bottom')}\n          className={classNames.divider}\n          aria-hidden=\"true\"\n        />\n      );\n    }\n    return null;\n  }\n\n  private _renderNormalItem(\n    item: IContextualMenuItem,\n    classNames: IMenuItemClassNames, // eslint-disable-line deprecation/deprecation\n    index: number,\n    focusableElementIndex: number,\n    totalItemCount: number,\n    hasCheckmarks: boolean,\n    hasIcons: boolean,\n  ): React.ReactNode {\n    if (item.onRender) {\n      return item.onRender(\n        { 'aria-posinset': focusableElementIndex + 1, 'aria-setsize': totalItemCount, ...item },\n        this.dismiss,\n      );\n    }\n    if (item.href) {\n      return this._renderAnchorMenuItem(\n        item,\n        classNames,\n        index,\n        focusableElementIndex,\n        totalItemCount,\n        hasCheckmarks,\n        hasIcons,\n      );\n    }\n\n    if (item.split && hasSubmenu(item)) {\n      return this._renderSplitButton(\n        item,\n        classNames,\n        index,\n        focusableElementIndex,\n        totalItemCount,\n        hasCheckmarks,\n        hasIcons,\n      );\n    }\n\n    return this._renderButtonItem(\n      item,\n      classNames,\n      index,\n      focusableElementIndex,\n      totalItemCount,\n      hasCheckmarks,\n      hasIcons,\n    );\n  }\n\n  private _renderHeaderMenuItem(\n    item: IContextualMenuItem,\n    // eslint-disable-next-line deprecation/deprecation\n    classNames: IMenuItemClassNames,\n    index: number,\n    hasCheckmarks: boolean,\n    hasIcons: boolean,\n  ): React.ReactNode {\n    const { contextualMenuItemAs: ChildrenRenderer = ContextualMenuItem } = this.props;\n    const { itemProps, id } = item;\n    const divHtmlProperties =\n      itemProps && getNativeProps<React.HTMLAttributes<HTMLDivElement>>(itemProps, divProperties);\n    return (\n      // eslint-disable-next-line deprecation/deprecation\n      <div id={id} className={this._classNames.header} {...divHtmlProperties} style={item.style}>\n        <ChildrenRenderer\n          item={item}\n          classNames={classNames}\n          index={index}\n          onCheckmarkClick={hasCheckmarks ? this._onItemClick : undefined}\n          hasIcons={hasIcons}\n          {...itemProps}\n        />\n      </div>\n    );\n  }\n\n  private _renderAnchorMenuItem(\n    item: IContextualMenuItem,\n    // eslint-disable-next-line deprecation/deprecation\n    classNames: IMenuItemClassNames,\n    index: number,\n    focusableElementIndex: number,\n    totalItemCount: number,\n    hasCheckmarks: boolean,\n    hasIcons: boolean,\n  ): React.ReactNode {\n    const {\n      contextualMenuItemAs,\n      hoisted: { expandedMenuItemKey, openSubMenu },\n    } = this.props;\n    return (\n      <ContextualMenuAnchor\n        item={item}\n        classNames={classNames}\n        index={index}\n        focusableElementIndex={focusableElementIndex}\n        totalItemCount={totalItemCount}\n        hasCheckmarks={hasCheckmarks}\n        hasIcons={hasIcons}\n        contextualMenuItemAs={contextualMenuItemAs}\n        onItemMouseEnter={this._onItemMouseEnterBase}\n        onItemMouseLeave={this._onMouseItemLeave}\n        onItemMouseMove={this._onItemMouseMoveBase}\n        onItemMouseDown={this._onItemMouseDown}\n        executeItemClick={this._executeItemClick}\n        onItemClick={this._onAnchorClick}\n        onItemKeyDown={this._onItemKeyDown}\n        expandedMenuItemKey={expandedMenuItemKey}\n        openSubMenu={openSubMenu}\n        dismissSubMenu={this._onSubMenuDismiss}\n        dismissMenu={this.dismiss}\n      />\n    );\n  }\n\n  private _renderButtonItem(\n    item: IContextualMenuItem,\n    // eslint-disable-next-line deprecation/deprecation\n    classNames: IMenuItemClassNames,\n    index: number,\n    focusableElementIndex: number,\n    totalItemCount: number,\n    hasCheckmarks?: boolean,\n    hasIcons?: boolean,\n  ) {\n    const {\n      contextualMenuItemAs,\n      hoisted: { expandedMenuItemKey, openSubMenu },\n    } = this.props;\n\n    return (\n      <ContextualMenuButton\n        item={item}\n        classNames={classNames}\n        index={index}\n        focusableElementIndex={focusableElementIndex}\n        totalItemCount={totalItemCount}\n        hasCheckmarks={hasCheckmarks}\n        hasIcons={hasIcons}\n        contextualMenuItemAs={contextualMenuItemAs}\n        onItemMouseEnter={this._onItemMouseEnterBase}\n        onItemMouseLeave={this._onMouseItemLeave}\n        onItemMouseMove={this._onItemMouseMoveBase}\n        onItemMouseDown={this._onItemMouseDown}\n        executeItemClick={this._executeItemClick}\n        onItemClick={this._onItemClick}\n        onItemClickBase={this._onItemClickBase}\n        onItemKeyDown={this._onItemKeyDown}\n        expandedMenuItemKey={expandedMenuItemKey}\n        openSubMenu={openSubMenu}\n        dismissSubMenu={this._onSubMenuDismiss}\n        dismissMenu={this.dismiss}\n      />\n    );\n  }\n\n  private _renderSplitButton(\n    item: IContextualMenuItem,\n    // eslint-disable-next-line deprecation/deprecation\n    classNames: IMenuItemClassNames,\n    index: number,\n    focusableElementIndex: number,\n    totalItemCount: number,\n    hasCheckmarks?: boolean,\n    hasIcons?: boolean,\n  ): JSX.Element {\n    const {\n      contextualMenuItemAs,\n      hoisted: { expandedMenuItemKey, openSubMenu },\n    } = this.props;\n\n    return (\n      <ContextualMenuSplitButton\n        item={item}\n        classNames={classNames}\n        index={index}\n        focusableElementIndex={focusableElementIndex}\n        totalItemCount={totalItemCount}\n        hasCheckmarks={hasCheckmarks}\n        hasIcons={hasIcons}\n        contextualMenuItemAs={contextualMenuItemAs}\n        onItemMouseEnter={this._onItemMouseEnterBase}\n        onItemMouseLeave={this._onMouseItemLeave}\n        onItemMouseMove={this._onItemMouseMoveBase}\n        onItemMouseDown={this._onItemMouseDown}\n        executeItemClick={this._executeItemClick}\n        onItemClick={this._onItemClick}\n        onItemClickBase={this._onItemClickBase}\n        onItemKeyDown={this._onItemKeyDown}\n        openSubMenu={openSubMenu}\n        dismissSubMenu={this._onSubMenuDismiss}\n        dismissMenu={this.dismiss}\n        expandedMenuItemKey={expandedMenuItemKey}\n        onTap={this._onPointerAndTouchEvent}\n      />\n    );\n  }\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLElement>): boolean => {\n    // Take note if we are processing an alt (option) or meta (command) keydown.\n    // See comment in _shouldHandleKeyUp for reasoning.\n    this._lastKeyDownWasAltOrMeta = this._isAltOrMeta(ev);\n\n    // On Mac, pressing escape dismisses all levels of native context menus\n    // eslint-disable-next-line deprecation/deprecation\n    const dismissAllMenus = ev.which === KeyCodes.escape && (isMac() || isIOS());\n\n    return this._keyHandler(ev, this._shouldHandleKeyDown, dismissAllMenus);\n  };\n\n  private _shouldHandleKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    return (\n      // eslint-disable-next-line deprecation/deprecation\n      ev.which === KeyCodes.escape ||\n      this._shouldCloseSubMenu(ev) ||\n      // eslint-disable-next-line deprecation/deprecation\n      (ev.which === KeyCodes.up && (ev.altKey || ev.metaKey))\n    );\n  };\n\n  private _onKeyUp = (ev: React.KeyboardEvent<HTMLElement>): boolean => {\n    return this._keyHandler(ev, this._shouldHandleKeyUp, true /* dismissAllMenus */);\n  };\n\n  /**\n   * We close the menu on key up only if ALL of the following are true:\n   * - Most recent key down was alt or meta (command)\n   * - The alt/meta key down was NOT followed by some other key (such as down/up arrow to\n   *   expand/collapse the menu)\n   * - We're not on a Mac (or iOS)\n   *\n   * This is because on Windows, pressing alt moves focus to the application menu bar or similar,\n   * closing any open context menus. There is not a similar behavior on Macs.\n   */\n  private _shouldHandleKeyUp = (ev: React.KeyboardEvent<HTMLElement>) => {\n    const keyPressIsAltOrMetaAlone = this._lastKeyDownWasAltOrMeta && this._isAltOrMeta(ev);\n    this._lastKeyDownWasAltOrMeta = false;\n    return !!keyPressIsAltOrMetaAlone && !(isIOS() || isMac());\n  };\n\n  /**\n   * Returns true if the key for the event is alt (Mac option) or meta (Mac command).\n   */\n  private _isAltOrMeta(ev: React.KeyboardEvent<HTMLElement>): boolean {\n    // eslint-disable-next-line deprecation/deprecation\n    return ev.which === KeyCodes.alt || ev.key === 'Meta';\n  }\n\n  /**\n   * Calls `shouldHandleKey` to determine whether the keyboard event should be handled;\n   * if so, stops event propagation and dismisses menu(s).\n   * @param ev - The keyboard event.\n   * @param shouldHandleKey - Returns whether we should handle this keyboard event.\n   * @param dismissAllMenus - If true, dismiss all menus. Otherwise, dismiss only the current menu.\n   * Only does anything if `shouldHandleKey` returns true.\n   * @returns Whether the event was handled.\n   */\n  private _keyHandler = (\n    ev: React.KeyboardEvent<HTMLElement>,\n    shouldHandleKey: (ev: React.KeyboardEvent<HTMLElement>) => boolean,\n    dismissAllMenus?: boolean,\n  ): boolean => {\n    let handled = false;\n\n    if (shouldHandleKey(ev)) {\n      this.dismiss(ev, dismissAllMenus);\n      ev.preventDefault();\n      ev.stopPropagation();\n      handled = true;\n    }\n\n    return handled;\n  };\n\n  /**\n   * Checks if the submenu should be closed\n   */\n  private _shouldCloseSubMenu = (ev: React.KeyboardEvent<HTMLElement>): boolean => {\n    const submenuCloseKey = getRTL(this.props.theme) ? KeyCodes.right : KeyCodes.left;\n\n    // eslint-disable-next-line deprecation/deprecation\n    if (ev.which !== submenuCloseKey || !this.props.isSubMenu) {\n      return false;\n    }\n\n    return (\n      this._adjustedFocusZoneProps.direction === FocusZoneDirection.vertical ||\n      (!!this._adjustedFocusZoneProps.checkForNoWrap &&\n        !shouldWrapFocus(ev.target as HTMLElement, 'data-no-horizontal-wrap'))\n    );\n  };\n\n  private _onMenuKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    // Mark as handled if onKeyDown returns true (for handling collapse cases)\n    // or if we are attempting to expand a submenu\n    const handled = this._onKeyDown(ev);\n    const { hostElement } = this.props.hoisted;\n\n    if (handled || !hostElement.current) {\n      return;\n    }\n\n    // If we have a modifier key being pressed, we do not want to move focus.\n    // Otherwise, handle up and down keys.\n    const hasModifier = !!(ev.altKey || ev.metaKey);\n    // eslint-disable-next-line deprecation/deprecation\n    const isUp = ev.which === KeyCodes.up;\n    // eslint-disable-next-line deprecation/deprecation\n    const isDown = ev.which === KeyCodes.down;\n    if (!hasModifier && (isUp || isDown)) {\n      const elementToFocus = isUp\n        ? getLastFocusable(hostElement.current, hostElement.current.lastChild as HTMLElement, true)\n        : getFirstFocusable(hostElement.current, hostElement.current.firstChild as HTMLElement, true);\n\n      if (elementToFocus) {\n        elementToFocus.focus();\n        ev.preventDefault();\n        ev.stopPropagation();\n      }\n    }\n  };\n\n  /**\n   * Scroll handler for the callout to make sure the mouse events\n   * for updating focus are not interacting during scroll\n   */\n  private _onScroll = (): void => {\n    if (!this._isScrollIdle && this._scrollIdleTimeoutId !== undefined) {\n      this._async.clearTimeout(this._scrollIdleTimeoutId);\n      this._scrollIdleTimeoutId = undefined;\n    } else {\n      this._isScrollIdle = false;\n    }\n\n    this._scrollIdleTimeoutId = this._async.setTimeout(() => {\n      this._isScrollIdle = true;\n    }, NavigationIdleDelay);\n  };\n\n  private _onItemMouseEnterBase = (item: any, ev: React.MouseEvent<HTMLElement>, target?: HTMLElement): void => {\n    if (this._shouldIgnoreMouseEvent()) {\n      return;\n    }\n\n    this._updateFocusOnMouseEvent(item, ev, target);\n  };\n\n  private _onItemMouseMoveBase = (item: any, ev: React.MouseEvent<HTMLElement>, target: HTMLElement): void => {\n    const targetElement = ev.currentTarget as HTMLElement;\n    const { shouldUpdateFocusOnMouseEvent, gotMouseMove, targetWindow } = this.props.hoisted;\n\n    // Always do this check to make sure we record a mouseMove if needed (even if we are timed out)\n    if (shouldUpdateFocusOnMouseEvent.current) {\n      gotMouseMove.current = true;\n    } else {\n      return;\n    }\n\n    if (\n      !this._isScrollIdle ||\n      this._enterTimerId !== undefined ||\n      targetElement === (targetWindow?.document.activeElement as HTMLElement)\n    ) {\n      return;\n    }\n\n    this._updateFocusOnMouseEvent(item, ev, target);\n  };\n\n  private _shouldIgnoreMouseEvent(): boolean {\n    return !this._isScrollIdle || !this.props.hoisted.gotMouseMove.current;\n  }\n\n  private _onMouseItemLeave = (item: any, ev: React.MouseEvent<HTMLElement>): void => {\n    const { expandedMenuItemKey, hostElement } = this.props.hoisted;\n\n    if (this._shouldIgnoreMouseEvent()) {\n      return;\n    }\n\n    if (this._enterTimerId !== undefined) {\n      this._async.clearTimeout(this._enterTimerId);\n      this._enterTimerId = undefined;\n    }\n\n    if (expandedMenuItemKey !== undefined) {\n      return;\n    }\n\n    /**\n     * IE11 focus() method forces parents to scroll to top of element.\n     * Edge and IE expose a setActive() function for focusable divs that\n     * sets the page focus but does not scroll the parent element.\n     */\n    if ((hostElement.current as any).setActive) {\n      try {\n        (hostElement.current as any).setActive();\n      } catch (e) {\n        /* no-op */\n      }\n    } else {\n      hostElement.current?.focus();\n    }\n  };\n\n  /**\n   * Handles updating focus when mouseEnter or mouseMove fire.\n   * As part of updating focus, This function will also update\n   * the expand/collapse state accordingly.\n   */\n  private _updateFocusOnMouseEvent(item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>, target?: HTMLElement) {\n    const targetElement = target ? target : (ev.currentTarget as HTMLElement);\n    const {\n      subMenuHoverDelay: timeoutDuration = NavigationIdleDelay,\n      hoisted: { expandedMenuItemKey, openSubMenu },\n    } = this.props;\n\n    if (item.key === expandedMenuItemKey) {\n      return;\n    }\n\n    if (this._enterTimerId !== undefined) {\n      this._async.clearTimeout(this._enterTimerId);\n      this._enterTimerId = undefined;\n    }\n\n    // If the menu is not expanded we can update focus without any delay\n    if (expandedMenuItemKey === undefined) {\n      targetElement.focus();\n    }\n\n    // Delay updating expanding/dismissing the submenu\n    // and only set focus if we have not already done so\n    if (hasSubmenu(item)) {\n      ev.stopPropagation();\n      this._enterTimerId = this._async.setTimeout(() => {\n        targetElement.focus();\n        openSubMenu(item, targetElement, true);\n        this._enterTimerId = undefined;\n      }, timeoutDuration);\n    } else {\n      this._enterTimerId = this._async.setTimeout(() => {\n        this._onSubMenuDismiss(ev);\n        targetElement.focus();\n        this._enterTimerId = undefined;\n      }, timeoutDuration);\n    }\n  }\n\n  private _onItemMouseDown = (item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>): void => {\n    if (item.onMouseDown) {\n      item.onMouseDown(item, ev);\n    }\n  };\n\n  private _onItemClick = (\n    item: IContextualMenuItem,\n    ev: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>,\n  ): void => {\n    this._onItemClickBase(item, ev, ev.currentTarget as HTMLElement);\n  };\n\n  private _onItemClickBase = (\n    item: IContextualMenuItem,\n    ev: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>,\n    target: HTMLElement,\n  ): void => {\n    const items = getSubmenuItems(item);\n    const { expandedMenuItemKey, openSubMenu } = this.props.hoisted;\n\n    // Cancel a async menu item hover timeout action from being taken and instead\n    // just trigger the click event instead.\n    this._cancelSubMenuTimer();\n\n    if (!hasSubmenu(item) && (!items || !items.length)) {\n      // This is an item without a menu. Click it.\n      this._executeItemClick(item, ev);\n    } else {\n      if (item.key !== expandedMenuItemKey) {\n        // This has a collapsed sub menu. Expand it.\n        openSubMenu(\n          item,\n          target,\n          // When Edge + Narrator are used together (regardless of if the button is in a form or not), pressing\n          // \"Enter\" fires this method and not _onMenuKeyDown. Checking ev.nativeEvent.detail differentiates\n          // between a real click event and a keypress event (detail should be the number of mouse clicks).\n          // ...Plot twist! For a real click event in IE 11, detail is always 0 (Edge sets it properly to 1).\n          // So we also check the pointerType property, which both Edge and IE set to \"mouse\" for real clicks\n          // and \"\" for pressing \"Enter\" with Narrator on.\n          ev.nativeEvent.detail !== 0 || (ev.nativeEvent as PointerEvent).pointerType === 'mouse',\n        );\n      }\n    }\n\n    ev.stopPropagation();\n    ev.preventDefault();\n  };\n\n  private _onAnchorClick = (item: IContextualMenuItem, ev: React.MouseEvent<HTMLElement>) => {\n    this._executeItemClick(item, ev);\n    ev.stopPropagation();\n  };\n\n  private _executeItemClick = (\n    item: IContextualMenuItem,\n    ev: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>,\n  ): void => {\n    if (item.disabled || item.isDisabled) {\n      return;\n    }\n\n    let dismiss = false;\n    if (item.onClick) {\n      dismiss = !!item.onClick(ev, item);\n    } else if (this.props.onItemClick) {\n      dismiss = !!this.props.onItemClick(ev, item);\n    }\n\n    if (dismiss || !ev.defaultPrevented) {\n      this.dismiss(ev, true);\n    }\n  };\n\n  private _onItemKeyDown = (item: any, ev: React.KeyboardEvent<HTMLElement>): void => {\n    const openKey = getRTL(this.props.theme) ? KeyCodes.left : KeyCodes.right;\n\n    if (\n      !item.disabled &&\n      // eslint-disable-next-line deprecation/deprecation\n      (ev.which === openKey || ev.which === KeyCodes.enter || (ev.which === KeyCodes.down && (ev.altKey || ev.metaKey)))\n    ) {\n      this.props.hoisted.openSubMenu(item, ev.currentTarget as HTMLElement, false);\n      ev.preventDefault();\n    }\n  };\n\n  // Cancel a async menu item hover timeout action from being taken and instead\n  // do new upcoming behavior\n  private _cancelSubMenuTimer = () => {\n    if (this._enterTimerId !== undefined) {\n      this._async.clearTimeout(this._enterTimerId);\n      this._enterTimerId = undefined;\n    }\n  };\n\n  private _getSubmenuProps() {\n    const { submenuTarget, expandedMenuItemKey, expandedByMouseClick } = this.props.hoisted;\n    const item = this._findItemByKey(expandedMenuItemKey!);\n    let submenuProps: IContextualMenuProps | null = null;\n\n    if (item) {\n      submenuProps = {\n        items: getSubmenuItems(item)!,\n        target: submenuTarget,\n        onDismiss: this._onSubMenuDismiss,\n        isSubMenu: true,\n        id: this.state.subMenuId,\n        shouldFocusOnMount: true,\n        shouldFocusOnContainer: expandedByMouseClick,\n        directionalHint: getRTL(this.props.theme) ? DirectionalHint.leftTopEdge : DirectionalHint.rightTopEdge,\n        className: this.props.className,\n        gapSpace: 0,\n        isBeakVisible: false,\n      };\n\n      if (item.subMenuProps) {\n        assign(submenuProps, item.subMenuProps);\n      }\n    }\n    return submenuProps;\n  }\n\n  private _findItemByKey(key: string): IContextualMenuItem | undefined {\n    const { items } = this.props;\n    return this._findItemByKeyFromItems(key, items);\n  }\n\n  /**\n   * Returns the item that matches a given key if any.\n   * @param key - The key of the item to match\n   * @param items - The items to look for the key\n   */\n  private _findItemByKeyFromItems(key: string, items: IContextualMenuItem[]): IContextualMenuItem | undefined {\n    for (const item of items) {\n      if (item.itemType === ContextualMenuItemType.Section && item.sectionProps) {\n        const match = this._findItemByKeyFromItems(key, item.sectionProps.items);\n        if (match) {\n          return match;\n        }\n      } else if (item.key && item.key === key) {\n        return item;\n      }\n    }\n  }\n\n  /**\n   * This function is called ASYNCHRONOUSLY, and so there is a chance it is called\n   * after the component is unmounted. The _mounted property is added to prevent\n   * from calling setState() after unmount. Do NOT copy this pattern in synchronous\n   * code.\n   */\n  private _onSubMenuDismiss = (ev?: any, dismissAll?: boolean): void => {\n    if (dismissAll) {\n      this.dismiss(ev, dismissAll);\n    } else if (this._mounted) {\n      this.props.hoisted.closeSubMenu();\n    }\n  };\n\n  private _onPointerAndTouchEvent = (ev: React.TouchEvent<HTMLElement> | PointerEvent) => {\n    this._cancelSubMenuTimer();\n  };\n}\n"]}